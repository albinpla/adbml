{
  "_from": "brfs",
  "_id": "brfs@1.4.4",
  "_inBundle": false,
  "_integrity": "sha512-rX2qc9hkpLPiwdu1HkLY642rwwo3X6N+ZPyEPdNn3OUKV/B2BRP7dHdnkhGantOJLVoTluNYBi4VecHb2Kq2hw==",
  "_location": "/brfs",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "brfs",
    "fetchSpec": "latest",
    "name": "brfs",
    "raw": "brfs",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/brfs/-/brfs-1.4.4.tgz",
  "_shasum": "fc316bc4880180fa8ee25bcaab65f86910ce1dd5",
  "_spec": "brfs",
  "_where": "/home/wiz/adb/firefox/major",
  "author": {
    "email": "mail@substack.net",
    "name": "James Halliday",
    "url": "http://substack.net"
  },
  "bin": {
    "brfs": "bin/cmd.js"
  },
  "bugs": {
    "url": "https://github.com/substack/brfs/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "quote-stream": "^1.0.1",
    "resolve": "^1.1.5",
    "static-module": "^2.1.1",
    "through2": "^2.0.0"
  },
  "deprecated": false,
  "description": "browserify fs.readFileSync() static asset inliner",
  "devDependencies": {
    "browserify": "^4.2.0",
    "concat-stream": "^1.6.0",
    "tap": "~0.4.8",
    "through": "^2.3.4"
  },
  "homepage": "https://github.com/substack/brfs",
  "keywords": [
    "asset",
    "base64",
    "browserify",
    "browserify-transform",
    "bundle",
    "fs",
    "plugin",
    "readFileSync",
    "static"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "brfs",
  "optionalDependencies": {},
  "readme": "# brfs\r\n\r\nfs.readFileSync() and fs.readFile() static asset browserify transform\r\n\r\n[![build status](https://secure.travis-ci.org/substack/brfs.png)](http://travis-ci.org/substack/brfs)\r\n\r\nThis module is a plugin for [browserify](http://browserify.org) to parse the AST\r\nfor `fs.readFileSync()` calls so that you can inline file contents into your\r\nbundles.\r\n\r\nEven though this module is intended for use with browserify, nothing about it is\r\nparticularly specific to browserify so it should be generally useful in other\r\nprojects.\r\n\r\n# example\r\n\r\nfor a main.js:\r\n\r\n``` js\r\nvar fs = require('fs');\r\nvar html = fs.readFileSync(__dirname + '/robot.html', 'utf8');\r\nconsole.log(html);\r\n```\r\n\r\nand a robot.html:\r\n\r\n``` html\r\n<b>beep boop</b>\r\n```\r\n\r\nfirst `npm install brfs` into your project, then:\r\n\r\n## on the command-line\r\n\r\n```\r\n$ browserify -t brfs example/main.js > bundle.js\r\n```\r\n\r\nnow in the bundle output file,\r\n\r\n``` js\r\nvar html = fs.readFileSync(__dirname + '/robot.html', 'utf8');\r\n```\r\n\r\nturns into:\r\n\r\n``` js\r\nvar html = \"<b>beep boop</b>\\n\";\r\n```\r\n\r\n## or with the api\r\n\r\n``` js\r\nvar browserify = require('browserify');\r\nvar fs = require('fs');\r\n\r\nvar b = browserify('example/main.js');\r\nb.transform('brfs');\r\n\r\nb.bundle().pipe(fs.createWriteStream('bundle.js'));\r\n```\r\n\r\n## async\r\n\r\nYou can also use `fs.readFile()`:\r\n\r\n``` js\r\nvar fs = require('fs');\r\nfs.readFile(__dirname + '/robot.html', 'utf8', function (err, html) {\r\n    console.log(html);\r\n});\r\n```\r\n\r\nWhen you run this code through brfs, it turns into:\r\n\r\n``` js\r\nvar fs = require('fs');\r\nprocess.nextTick(function () {(function (err, html) {\r\n    console.log(html);\r\n})(null,\"<b>beep boop</b>\\n\")});\r\n```\r\n\r\n# methods\r\n\r\nbrfs looks for:\r\n\r\n* `fs.readFileSync(pathExpr, enc=null)`\r\n* `fs.readFile(pathExpr, enc=null, cb)`\r\n* `fs.readdirSync(pathExpr)`\r\n* `fs.readdir(pathExpr, cb)`\r\n\r\nInside of each `pathExpr`, you can use\r\n[statically analyzable](http://npmjs.org/package/static-eval) expressions and\r\nthese variables and functions:\r\n\r\n* `__dirname`\r\n* `__filename`\r\n* `path` if you `var path = require('path')` first\r\n* `require.resolve()`\r\n\r\nJust like node, the default encoding is `null` and will give back a `Buffer`.\r\nIf you want differently-encoded file contents for your inline content you can\r\nset `enc` to `'utf8'`, `'base64'`, or `'hex'`.\r\n\r\nIn async mode when a callback `cb` is given, the contents of `pathExpr` are\r\ninlined into the source inside of a `process.nextTick()` call.\r\n\r\nWhen you use a `'file'`-event aware watcher such as\r\n[watchify](https://npmjs.org/package/watchify), the inlined assets will be\r\nupdated automatically.\r\n\r\nIf you want to use this plugin directly, not through browserify, the api\r\nfollows.\r\n\r\n``` js\r\nvar brfs = require('brfs')\r\n```\r\n\r\n## var tr = brfs(file, opts)\r\n\r\nReturn a through stream `tr` inlining `fs.readFileSync()` file contents\r\nin-place.\r\n\r\nOptionally, you can set which `opts.vars` will be used in the\r\n[static argument evaluation](https://npmjs.org/package/static-eval)\r\nin addition to `__dirname` and `__filename`.\r\n\r\n# events\r\n\r\n## tr.on('file', function (file) {})\r\n\r\nFor every file included with `fs.readFileSync()` or `fs.readFile()`, the `tr`\r\ninstance emits a `'file'` event with the `file` path.\r\n\r\n# usage\r\n\r\nA tiny command-line program ships with this module to make debugging easier.\r\n\r\n```\r\nusage:\r\n\r\n  brfs file\r\n \r\n    Inline `fs.readFileSync()` calls from `file`, printing the transformed file\r\n    contents to stdout.\r\n\r\n  brfs\r\n  brfs -\r\n \r\n    Inline `fs.readFileSync()` calls from stdin, printing the transformed file\r\n    contents to stdout.\r\n\r\n```\r\n\r\n# install\r\n\r\nWith [npm](https://npmjs.org) do:\r\n\r\n```\r\nnpm install brfs\r\n```\r\n\r\nthen use `-t brfs` with the browserify command or use `.transform('brfs')` from\r\nthe browserify api.\r\n\r\n# gotchas\r\n\r\nSince `brfs` evaluates your source code *statically*, you can't use dynamic expressions that need to be evaluated at run time. For example:\r\n\r\n```js\r\n// WILL NOT WORK!\r\nvar file = window.someFilePath;\r\nvar str = require('fs').readFileSync(file, 'utf8');\r\n```\r\n\r\nInstead, you must use simpler expressions that can be resolved at build-time:\r\n\r\n```js\r\nvar str = require('fs').readFileSync(__dirname + '/file.txt', 'utf8');\r\n```\r\n\r\nAnother gotcha: `brfs` does not yet support ES2015 syntax like destructuring or `import` statements. See [brfs-babel](https://github.com/Jam3/brfs-babel) for an experimental replacement that supports this syntax.\r\n\r\n# license\r\n\r\nMIT\r\n",
  "readmeFilename": "readme.markdown",
  "repository": {
    "type": "git",
    "url": "git://github.com/substack/brfs.git"
  },
  "scripts": {
    "test": "tap test/*.js"
  },
  "version": "1.4.4"
}
